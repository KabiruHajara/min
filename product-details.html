<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxe_Product</title>
    <link rel="stylesheet" href="./src/output.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-hover:hover { transform: translateY(-8px); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); }
        .pulse-ring { animation: pulse-ring 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite; }
        @keyframes pulse-ring { 0% { transform: scale(0.33); } 40%, 50% { opacity: 0; } 100% { opacity: 0; transform: scale(1.33); } }
        .shimmer { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        .floating { animation: floating 3s ease-in-out infinite; }
        @keyframes floating { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
    </style>
</head>
<body>
    <section class="shadow-xl">
        <header class="flex flex-row px-15">
            <nav class="flex flex-row justify-between bg-white py-4 px-5 w-full border-b border-b-gray-50">
                <div class="flex flex-row gap-3">
                    <div class="bg-gradient-to-r from-indigo-800 to-purple-900 rounded-xl h-10 w-10 flex items-center justify-center">
                        <i class="fas fa-gem text-white text-lg"></i>
                    </div>
                        <h1 class=" bg-gradient-to-r from-purple-600 to-blue-600 text-2xl font-bold bg-clip-text text-transparent">Luxe Store</h1>
                    </div>
                </div>
                <div class="flex flex-row gap-5 font-semibold">
                        <a href="./index.html" class=" hover:text-purple-600 font-medium ">Products</a>
                        <a href="./categories.html" class=" hover:text-purple-600 font-medium ">Categories</a>
                        <a href="./favorite.html" class="relative hover:text-purple-600 font-medium ">
                            <i class="fas fa-heart mr-1"></i>Favorites
                            <span id="favCount" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                        </a>
                        <a href="./cart.html"  class="relative text-gray-700 hover:text-purple-600 font-medium transition-colors">
                            <i class="fas fa-shopping-bag mr-1"></i>Cart
                            <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span>
                        </a>
                </div>
            </div>
            </nav>
        </header>
    </section>

    <section>
        <div class="container mx-auto px-6 py-6">
        <nav class="text-sm">
            <a href="index.html" class="text-purple-600 hover:underline font-medium">Home</a>
            <span class="mx-3 text-gray-400">/</span>
            <span class="text-gray-700">Product Details</span>
        </nav>
    </div>
    </section>

    <section>
         <div class="container mx-auto px-6 pb-12">
        <button onclick="history.back()" class="mb-8 bg-white text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 transition-colors shadow-lg">
            <i class="fas fa-arrow-left mr-2"></i>Back
        </button>
    </section>

    <section>
         <div id="loading" class="text-center py-16">
            <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mb-4"></div>
            <p class="text-gray-600 text-lg">Loading product details...</p>
        </div>
    </section>

    <section>
        <div class="flex shadow-2xl bg-white rounded-3xl p-8 m-10 mb-16"> 
        <!-- product-details -->
        <div id="productDetails" class="bg-white rounded-3xl p-8 m-10 mb-16">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        <!--products-image -->
        <div>
            <div class="relative mb-6 group">
                <img id="mainImage" src="https://i.imgur.com/ZKGofuB.jpeg" alt="Classic Comfort Joggers" class="w-full h-96 object-cover rounded-2xl shadow-2xl group-hover:scale-105 transition-transform duration-500">
                <div class="absolute top-6 left-6 bg-red-500 text-white px-4 py-2 rounded-full text-sm font-bold">-10%</div>
            </div>
            <div class="grid grid-cols-4 gap-3">
                <img src="https://i.imgur.com/ZKGofuB.jpeg" alt="Classic Comfort Fit Joggers" class="w-full h-20 object-cover rounded-xl cursor-pointer hover:opacity-75 transition-opacity ring-2 ring-purple-500" onclick="changeMainImage('https://i.imgur.com/ZKGofuB.jpeg', this)">
                <img src="https://i.imgur.com/GJi73H0.jpeg" alt="Classic Comfort Fit Joggers" class="w-full h-20 object-cover rounded-xl cursor-pointer hover:opacity-75 transition-opacity ring-2 ring-purple-500" onclick="changeMainImage('https://i.imgur.com/GJi73H0.jpeg', this)">
                <img src="https://i.imgur.com/633Fqrz.jpeg" alt="Classic Comfort Fit Joggers" class="w-full h-20 object-cover rounded-xl cursor-pointer hover:opacity-75 transition-opacity ring-2 ring-purple-500" onclick="changeMainImage('https://i.imgur.com/633Fqrz.jpeg', this)">
            </div>
        </div>
    </div>
        </div>


<div class="flex-col">
        <div class="flex py-6 gap-2 text-sm ml-10">
        <div class="flex flex-row gap-1">
            <i class="fas fa-star text-yellow-400 text-lg"></i>
            <i class="fas fa-star text-yellow-400 text-lg"></i>
            <i class="fas fa-star text-yellow-400 text-lg"></i>
            <i class="fas fa-star text-yellow-400 text-lg"></i>
            <i class="fas fa-star text-yellow-400 text-lg"></i>
            <span class="text-gray-400 text-sm mb-1">3.8 (369 reviews)</span>
        </div>
        </div>
           
        <h1 class="text-3xl font-bold text-gray-800 ml-10">Classic Red Pullover Hoodie </h1>
         
        <div class="flex items-center mt-6 ml-10 mb-7">
            <span class="text-purple-600 font-bold text-5xl">$10</span>
            <div class="ml-4">
                <span class="text-gray-400 line-through text-xl">$12.50</span>
                <div class="bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full font-semibold inline-block ml-2">Save $2.50</div>
            </div>
        </div>

        <div class="mb-7 ml-10">
            <h3 class="text-xl font-semibold mb-3 text-gray-800">Description</h3>
            <p class="text-gray-700 text-lg leading-relaxed">Elevate your casual wardrobe with our Classic Red Pullover Hoodie. Crafted with a soft cotton blend for ultimate comfort, this vibrant red hoodie features a kangaroo pocket, adjustable drawstring hood, and ribbed cuffs for a snug fit. The timeless design ensures easy pairing with jeans or joggers for a relaxed yet stylish look, making it a versatile addition to your everyday attire.</p>
        </div>
        <div class="ml-10">
            <h3 class="text-xl font-semibold text-gray-800 mb-3">Category</h3>
            <div class="bg-purple-100 text-purple-800 text-lg p-5 py-1 rounded-full mb-5 font-semibold inline-block">Clothes</div>
        </div>
        <div class="ml-10">
            <h3 class="text-xl font-semibold text-gray-800 mb-3">Quantity</h3>
            <div class="flex items-center space-x-4" ></div>
        </div> 
        <div class="flex flex-row ml-10">
        <button id="subtract" onclick="subtract()" class="w-12 h-12 bg-gray-300 hover:bg-gray-200 rounded-full transition-colors flex items-center px-5 justify-center text-xl font-bold">-</button>
        <button id="reset" class="text-2xl font-bold bg-gray-100 px-6 py-2 rounded-xl">0</button>
       <button id="add" onclick="add()" class="w-12 h-12 bg-gray-300 hover:bg-gray-200 rounded-full transition-colors flex items-center px-5 justify-center text-xl font-bold">+</button>
</div>

<div class="bg-gradient-to-r from-blue-800 to-100%  to-purple-900 text-white text-lg p-5 py-1 rounded-xl mb-5 font-semibold ml-10 mt-8 text-center hover:scale-105 transition-all duration-200">
    <button>
        <i class="fas fa-cart-plus mr-3 py-3"></i>Add to Cart
    </button>
</div>

<div class="text-black text-lg rounded-xl font-semibold ml-10 flex flex-row gap-3">
    <div class=" border-gray-200 border-3 text-lg rounded-xl font-semibold text-center w-75">
    <button>
        <p> <i class="fas fa-heart text-gray-400 mr-3 py-3"></i> </i>Favourite </p>
    </button>
    </div>
    <div class="bg-green-500 text-white text-lg rounded-xl font-semibold text-center w-75 hover:scale-105 transition-all duration-200 shadow-2xl">
    <button>
        <p> <i class="fas fa-bolt text-white mr-3 py-3"></i>Buy Now </p>
    </button>
    </div>
</div> 

    <div class=" flex justify-between items-center ml-10 px-5 py-10">
        <div>
            <div class=" h-12 w-12 rounded-full bg-green-200 text-gray-700 px-4 flex items-center ml-5">
         <i class="fas fa-shipping-fast text-green-600"></i>
            </div> <p class=" font-medium  "> Free Shiping </p>
        </div>
        <div>
            <div class=" h-12 w-12 rounded-full bg-blue-200 text-gray-700 px-4 flex items-center ml-6">
         <i class="fas fa-shield-alt text-blue-600"></i>
            </div> <p class="text-center font-medium"> Secure Payment  </p>
        </div>
        <div>
            <div class=" h-12 w-12 rounded-full bg-purple-200 text-gray-700 px-4 py-4 flex text-center ml-5">
         <i class="fas fa-undo text-purple-600"></i>
            </div> <p class="text-center font-medium "> Easy Return </p>
        </div>
    </div>
    </div>
    </div>
    
</div>
    </section>


    <section>
        <div class="mt-16">
            <h2 class="text-3xl font-bold p-10 mb-8 text-gray-800">You Might Also Like</h2>
            <div id="relatedProducts" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            </div>

            <div class="flex flex-row m-10 gap-5">
            <div class="relative mb-6 group">
                <img id="relatedProducts" src="https://i.imgur.com/ZKGofuB.jpeg" alt="Classic Comfort Joggers" class="w-200 h-96 rounded-2xl shadow-2xl group-hover:scale-105 transition-transform duration-500">
                <div class="absolute top-6 left-6 bg-red-500 text-white px-4 py-2 rounded-full text-sm font-bold">-10%</div>
            </div>
    
 
         <div class="relative mb-6 group">
                <img id="mainImage" src="https://i.imgur.com/ZKGofuB.jpeg" alt="Classic Comfort Joggers" class="w-70 h-96 rounded-2xl shadow-2xl group-hover:scale-105 transition-transform duration-500">
                <div class="absolute top-6 left-6 bg-red-500 text-white px-4 py-2 rounded-full text-sm font-bold">-10%</div>
            </div>
    

         <div class="relative mb-6 group">
                <img id="mainImage" src="https://i.imgur.com/ZKGofuB.jpeg" alt="Classic Comfort Joggers" class="w-70 h-96 rounded-2xl shadow-2xl group-hover:scale-105 transition-transform duration-500">
                <div class="absolute top-6 left-6 bg-red-500 text-white px-4 py-2 rounded-full text-sm font-bold">-10%</div>
            </div>
    
         <div class="relative mb-6 group">
                <img id="mainImage" src="https://i.imgur.com/ZKGofuB.jpeg" alt="Classic Comfort Joggers" class="w-70 h-96 rounded-2xl shadow-2xl group-hover:scale-105 transition-transform duration-500">
                <div class="absolute top-6 left-6 bg-red-500 text-white px-4 py-2 rounded-full text-sm font-bold">-10%</div>
            </div>
        </div>
    </div>
    </div>
    </section>

    <script src="script.js"></script>
    <script>
        // Load product details when page loads
        window.addEventListener('load', function() {
            loadProductDetails();
            loadRelatedProducts();
            updateCartCount();
            updateFavCount();
        });

        // Load related products (random products from same category)
        async function loadRelatedProducts() {
            try {
                const productId = getProductIdFromUrl();
                if (!productId) return;

                // Get current product to find its category
                const productResponse = await fetch(`${API_BASE}/products/${productId}`);
                const currentProduct = await productResponse.json();

                // Get products from same category
                const categoryResponse = await fetch(`${API_BASE}/categories/${currentProduct.category.id}/products`);
                const categoryProducts = await categoryResponse.json();

                // Filter out current product and get random 4 products
                const relatedProducts = categoryProducts
                    .filter(product => product.id !== parseInt(productId))
                    .sort(() => 0.5 - Math.random())
                    .slice(0, 4);

                const relatedProductsContainer = document.getElementById('relatedProducts');
                relatedProductsContainer.innerHTML = relatedProducts
                    .map(product => createProductCard(product))
                    .join('');
            } catch (error) {
                console.error('Error loading related products:', error);
            }
        }

        let reset = document.getElementById('reset');
        let reset = 0;

        function add() {
            count++;
            reset.textContent = count;
        }

        function subtract() {
            count--;
            reset.textContent = count;
        }

        function reset() {
            count = 0;
            reset.textContent = count;
        }

    </script>
</body>
</html>